@model ProfileViewModel
@{
    ViewBag.Title = "Edit Your Profile";
}

<section class="container-fluid">
    <!-- start page title -->
    <header class="row">
        <div class="col-12">
            <div class="page-title-box d-flex align-items-center justify-content-between">
                <h4 class="mb-0">@ViewBag.Title</h4>

                @*  <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item"><a href="javascript: void(0);">Forms</a></li>
                            <li class="breadcrumb-item active">Basic Elements</li>
                        </ol>
                    </div>*@

            </div>
        </div>
    </header>

    <div class="row">
        <div class="col-12">
            <div class="card w-100">
                <div class="card-body">

                    <h4 class="card-title">@Model.User.Name</h4>
                    <p class="card-title-desc">@Model.User.Email</p>

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs nav-tabs-custom nav-justified" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#home1" role="tab" id="home1-link">
                                <span class="d-block d-sm-none"><i class="fas fa-home"></i></span>
                                <span class="d-none d-sm-block">Bio</span>
                            </a>
                        </li>
                        @if (User.IsInRole("Teacher"))
                        {
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#profile1" role="tab" id="profile1-link">
                                    <span class="d-block d-sm-none"><i class="fas fa-briefcase"></i></span>
                                    <span class="d-none d-sm-block">Work Experience</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#qualifications" role="tab" id="qualifications-link">
                                    <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                                    <span class="d-none d-sm-block">Qualifications</span>
                                </a>
                            </li>
                        }

                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#settings1" role="tab" id="settings1-link">
                                <span class="d-block d-sm-none"><i class="fas fa-cog"></i></span>
                                <span class="d-none d-sm-block">Settings</span>
                            </a>
                        </li>
                    </ul>


                    <!-- Tab panes -->
                    <div class="tab-content p-3 text-muted">
                        <div class="tab-pane active" id="home1" role="tabpanel">
                            <partial name="_EditBio" />
                        </div>

                        @if (User.IsInRole("Teacher"))
                        {
                            <div class="tab-pane" id="profile1" role="tabpanel">
                                <partial name="_WorkExperienceTab" model="Model" />
                            </div>

                            <!--Qualification-->
                            <div class="tab-pane" id="qualifications" role="tabpanel">
                                <div class="mb-0">
                                    <partial name="_QualificationsTab" model="Model" />
                                </div>
                            </div>
                        }


                        <div class="tab-pane" id="settings1" role="tabpanel">
                            <p class="mb-0">
                                Trust fund seitan letterpress, keytar raw denim keffiyeh etsy
                                art party before they sold out master cleanse gluten-free squid
                                scenester freegan cosby sweater. Fanny pack portland seitan DIY,
                                art party locavore wolf cliche high life echo park Austin. Cred
                                vinyl keffiyeh DIY salvia PBR, banh mi before they sold out
                                farm-to-table VHS viral locavore cosby sweater. Lomo wolf viral,
                                mustache readymade keffiyeh craft.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts{
    @await Html.PartialAsync("_ValidationScripts");
    <script>
        $(document).ready(function () {
            console.clear();
            var hash = location.hash;
            if (hash) {
                var otherTab = document.getElementById("home1");
                var otherLink = document.getElementById("home1-link");
                otherTab.classList.remove("active");
                otherLink.classList.remove("active");
                var targetTab = document.querySelector(hash);
                var targetLink = document.querySelector(hash+"-link");
                targetTab.classList.add("active");
                targetLink.classList.add("active");
                console.log(targetTab);
            }
            
        })
    </script>
}